<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>GeorgeTown</title>
    <link rel="stylesheet" type="text/css" href="testStylesheet.css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="script.js"></script>
</head>
<body>
<div class="heading">
    <div class="container">
        <div class="design">
            <h3>To reassociate data from one user to another</h3>
            <p>BEGIN EXCLUSIVE;</br>
                INSERT INTO Transactions (CaptureDeviceID, UserID, TransactionTS) VALUES ((SELECT CaptureDeviceID FROM CaptureDevices WHERE CaptureDeviceTypeID = 1 LIMIT 1), 1, date('now', 'localtime'));</br>
                INSERT INTO ActiveTransaction VALUES ((SELECT MAX(TransactionID) FROM Transactions));</br></br>

                UPDATE Xref_Evaluations_Users SET UserID = 3895 WHERE UserID = 2396;</br>
                UPDATE Evaluations SET EvaluatorUserID = 3895 WHERE EvaluatorUserID = 2396;</br>
                UPDATE SessionParticipants SET UserID = 3895 WHERE UserID = 2396;</br>
                UPDATE CourseUsers SET UserID = 3895 WHERE UserID = 2396;</br></br>

                DELETE FROM ActiveTransaction;</br>
                COMMIT TRANSACTION;</p>
            <h3>Other queries used in the case</h3>
            <p>SELECT * FROM Scores WHERE EvaluationID IN </br>
                (SELECT EvaluationID FROM Xref_Evaluations_Users WHERE UserID = 2396)</br>
                GROUP BY EvaluationID</br></br>

                SELECT CoursePrivateTitle FROM Courses WHERE CourseID IN </br>
                (SELECT CourseID FROM CourseUsers WHERE UserID = 2396)</br></br>

                SELECT * FROM sqlite_master WHERE sql Like '%userid%' OR sql LIKE '%UserID%'</p>
        </div>
    </div>
</div>

<div class="back"><a href="test.html" style="text-decoration: none">BACK</a></div>
</body>
</html>